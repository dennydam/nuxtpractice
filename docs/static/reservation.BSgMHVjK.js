import{n as I,r as t,o,c as l,F as k,R as S,a,t as y,b as Z,w as ee,S as te,T as P,U as ae,V as B,W as O,z as q,q as se,X as U,C as X,A as J,Y as oe,x as G}from"./entry.CtATWCKh.js";import{a as ne,u as re}from"./user.DHmg4zsb.js";const le={class:"flex flex-wrap justify-bewteen",style:{}},ie={href:"#"},ue={class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},ce={class:"mb-3 font-normal text-gray-700 dark:text-gray-400"},de=["onClick"],ve=["onClick"],ge=a("span",null,"read more....",-1),me=a("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 5.326 5.7a.909.909 0 0 0 1.348 0L13 1"},null,-1),he=[me],pe={key:0},ye=I({__name:"ReservationItem",emits:["selectTime","update"],setup(W,{emit:V}){const w=t([{id:1,title:"Noteworthy technology acquisitions 2021",price:100,content:" in reverse chronological order."},{id:2,title:"Noteworthy technology acquisitions 2022",price:150,content:"Here are the biggest enterprise technology acquisitions of 2022 so far, in reverse chronological order."},{id:3,title:"Noteworthy technology acquisitions 2022",price:200,content:" in reverse chronological order."}]),u=t(Array(w.length).fill(!1));t();const f=_=>{console.log("777"),u.value[_]=!u.value[_]};return(_,C)=>(o(),l("div",le,[(o(!0),l(k,null,S(P(w),(d,h)=>(o(),l("div",{key:d.id,class:"my-2 mx-2 max-w-sm p-6 mx-auto bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},[a("a",ie,[a("h5",ue,y(d.title),1)]),a("p",ce,y(d.content),1),a("button",{onClick:M=>_.$emit("selectItem",d),type:"button",class:"text-gray-900 bg-[#ffadc4] border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"}," Select ",8,de),a("div",{class:"flex hover:text-gray-600",onClick:M=>f(h)},[ge,Z(ae,{name:"rotate"},{default:ee(()=>[(o(),l("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 8",style:te({transform:P(u)[h]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.5s"})},he,4))]),_:2},1024)],8,ve),P(u)[h]?(o(),l("div",pe," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Porro cupiditate veritatis nulla, atque explicabo, iste neque nesciunt non qui odit minus dolor quae soluta deleniti architecto alias eaque culpa quas. ")):B("",!0)]))),128))]))}}),fe={class:"",style:{"font-weight":"900","font-family":"Avenir, sans-serif"}},_e={class:"toolbar"},be={class:"date"},xe={class:"container mx-auto calendar"},ke=["onClick"],we={class:"mt-5 flex mx-auto time-container",style:{}},De=X('<div class="mx-auto calendar mr-5" style="height:150px;width:250px;"><div class="p-3"><span>Body Massage</span><div class="my-3 flex justify-items-center items-center"><img class="round-image" style="width:50px;height:50px;" src="https://png.pngtree.com/thumb_back/fh260/background/20210907/pngtree-massage-and-health-care-during-the-day-image_811638.jpg"><div class="flex"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="ml-2 h-8 w-10"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375z"></path><path fill-rule="evenodd" d="M3.087 9l.54 9.176A3 3 0 006.62 21h10.757a3 3 0 002.995-2.824L20.913 9H3.087zm6.163 3.75A.75.75 0 0110 12h4a.75.75 0 010 1.5h-4a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg><span>$100</span></div></div></div></div>',1),Se={class:"container mx-auto calendar flex"},Ce={class:"flex flex-wrap"},Me=a("span",{class:"mt-3"}," Available start times",-1),$e={class:"flex text-center"},Te={class:""},Ae=["onClick","disabled"],qe=a("div",null,null,-1),Fe=I({__name:"ReservationTime",emits:["selectTime","update"],setup(W,{emit:V}){O(),J().public,t(!1);const u=t([]),f=t();t();const _=q(["Sun","Mon","Tue","Wen","Thu","Fri","Sat","Sun","Mon","Tue","Wen","Thu","Fri","Sat"]),C=t(0),d=t([]),h=t(0),M=t([]),$=t(0),p=t(0),i=t(0),b=t(0),v=q([31,29,31,30,31,30,31,31,30,31,30,31]),T=q([31,28,31,30,31,30,31,31,30,31,30,31]);function A(s){b.value=s,console.log("item",s)}function D(s){return s%4===0&&s%100!==0||s%400===0}function Y(s,g){return new Date(s,g-1,1).getDay()}function F(){C.value=Y(p.value,i.value),$.value=D(p.value)?v[i.value-1]:T[i.value-1];let s=0;i.value===1?s=D(p.value-1)?v[v.length-1]:T[T.length-1]:s=D(p.value)?v[i.value-2]:T[i.value-2],h.value=42-(C.value+$.value);const g=[],n=[];for(let r=s-C.value+1;r<=s;r++)g.push(r);for(let r=1;r<=h.value;r++)n.push(r);d.value=g,M.value=n}function L(){i.value===1?(i.value=12,--p.value):--i.value,F()}function R(){i.value===12?(i.value=1,++p.value):++i.value,F()}function j(){const s=new Date,g=s.getFullYear(),n=s.getMonth()+1,r=s.getDate();return{year:g,month:n,date:r}}function N(){const{year:s,month:g,date:n}=j();p.value=s,i.value=g,b.value=n,F()}return f.value=[{time:"10:00",status:3},{time:"11:00",status:0},{time:"12:00",status:0},{time:"13:00",status:1},{time:"14:00",status:2},{time:"15:00",status:0},{time:"16:00",status:3},{time:"17:00",status:0},{time:"18:00",status:0},{time:"19:00",status:0},{time:"20:00",status:2},{time:"21:00",status:0},{time:"22:00",status:0},{time:"23:00",status:0},{time:"24:00",status:0}],u.value=[{label:"morning",times:f.value.slice(0,4)},{label:"afternoon",times:f.value.slice(4,8)},{label:"evening",times:f.value.slice(8)}],se(()=>{N()}),(s,g)=>(o(),l(k,null,[a("div",fe,[a("div",_e,[a("button",{class:"btn",onClick:L},"上一月"),a("div",be,y(p.value)+"年"+y(i.value)+"月",1),a("button",{class:"btn hover",onClick:R},"下一月")]),a("div",xe,[(o(!0),l(k,null,S(P(_),(n,r)=>(o(),l("div",{key:r,class:"grid-item"},y(n),1))),128)),(o(!0),l(k,null,S(d.value,(n,r)=>(o(),l("div",{key:r,class:"grid-item"},y(n),1))),128)),(o(!0),l(k,null,S($.value,(n,r)=>(o(),l("div",{onClick:e=>A(n),key:r,class:U(["grid-item",b.value===n?"very-hot":"normal-hot"])},y(n),11,ke))),128)),(o(!0),l(k,null,S(M.value,(n,r)=>(o(),l("div",{key:r,class:"grid-item"},y(n),1))),128))]),a("div",we,[De,a("div",Se,[a("div",Ce,[Me,a("div",$e,[(o(!0),l(k,null,S(u.value,(n,r)=>(o(),l("div",{style:{margin:"40px 20px"},class:"",key:r},[a("div",Te,[a("h4",null,y(n.label),1),(o(!0),l(k,null,S(n.times,(e,c)=>(o(),l("button",{key:c,onClick:x=>s.$emit("selectTime",e),class:U(["button_style",e.status==0?"background-color-status":e.status==1?"background-color-status1":e.status==2?"background-color-status2":" "]),disabled:e.status==2},y(e.time),11,Ae))),128))])]))),128))])])])])]),qe],64))}}),Ne=a("a",{href:"#",class:"inline-block p-4 rounded-t-lg hover:text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 dark:hover:text-gray-300"}," Service ",-1),Pe=[Ne],Be=a("a",{href:"#",class:"inline-block p-4 rounded-t-lg hover:text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 dark:hover:text-gray-300"},"Time",-1),Ye=[Be],Le=X('<li class="me-2"><a href="#" class="inline-block p-4 rounded-t-lg cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-800 dark:hover:text-gray-300">Settings</a></li><li class="me-2"><a href="#" class="inline-block p-4 rounded-t-lg cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-800 dark:hover:text-gray-300">Contacts</a></li><li><a class="inline-block p-4 text-gray-400 rounded-t-lg cursor-not-allowed dark:text-gray-500">Disabled</a></li>',3),Re={key:2,class:"time-container mx-auto flex justify-between my-2"},Ve=I({__name:"reservation",setup(W){O(),J().public;const w=t(!1),u=t(!1),f=t(),_=t(),C=t([]),d=t();t(),q(["Sun","Mon","Tue","Wen","Thu","Fri","Sat","Sun","Mon","Tue","Wen","Thu","Fri","Sat"]);const h=t(0),M=t([]),$=t(0),p=t([]),i=t(0),b=t(0),v=t(0),T=t(0),A=q([31,29,31,30,31,30,31,31,30,31,30,31]),D=q([31,28,31,30,31,30,31,31,30,31,30,31]);function Y(e){console.log("item.value",e),f.value=e,w.value=!1,u.value=!0,console.log("selectItem")}function F(e){console.log("選擇時間",e),_.value=e}async function L(){const e=new Date,c=e.getFullYear(),x=String(e.getMonth()+1).padStart(2,"0"),m=String(e.getDate()).padStart(2,"0"),E=`${c}-${x}-${m}`,K=f.value.title,Q=E+"T"+_.value.time;console.log("今日日期",E);try{const{data:H}=await re("/api/appointment/",{method:"POST",body:{treatment:K,appointmentTime:Q},onResponse({request:je,response:z,options:ze}){console.log("onResponse",z),z.status==400?(console.log("抓"),$notify({type:"success",title:"Notification Title",text:"Notification Text"})):z.status==200&&$notify({type:"success",title:"預約成功",text:"預約成功"})}},"$WqPYpSnG4a")}catch(H){console.error("An error occurred:",H)}}function R(){u.value=!1,w.value=!0,console.log("productPage")}function j(){w.value=!1,u.value=!0,console.log("timePage",u.value)}function N(e){return e%4===0&&e%100!==0||e%400===0}function s(e,c){return new Date(e,c-1,1).getDay()}function g(){h.value=s(b.value,v.value),i.value=N(b.value)?A[v.value-1]:D[v.value-1];let e=0;v.value===1?e=N(b.value-1)?A[A.length-1]:D[D.length-1]:e=N(b.value)?A[v.value-2]:D[v.value-2],$.value=42-(h.value+i.value);const c=[],x=[];for(let m=e-h.value+1;m<=e;m++)c.push(m);for(let m=1;m<=$.value;m++)x.push(m);M.value=c,p.value=x}function n(){const e=new Date,c=e.getFullYear(),x=e.getMonth()+1,m=e.getDate();return{year:c,month:x,date:m}}function r(){const{year:e,month:c,date:x}=n();b.value=e,v.value=c,T.value=x,g()}return d.value=[{time:"10:00",status:3},{time:"11:00",status:0},{time:"12:00",status:0},{time:"13:00",status:1},{time:"14:00",status:2},{time:"15:00",status:0},{time:"16:00",status:3},{time:"17:00",status:0},{time:"18:00",status:0},{time:"19:00",status:0},{time:"20:00",status:2},{time:"21:00",status:0},{time:"22:00",status:0},{time:"23:00",status:0},{time:"24:00",status:0}],C.value=[{label:"早上",times:d.value.slice(0,4)},{label:"中午",times:d.value.slice(4,8)},{label:"晚上",times:d.value.slice(8)}],oe(async()=>{r();const e=ne();console.log("userState",e.profile.id),e.profile.id}),(e,c)=>(o(),l(k,null,[a("ul",{class:"flex justify-center flex-wrap text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-gray-400"},[a("li",{class:"me-2",onClick:R},Pe),a("li",{class:"me-2",onClick:j},Ye),Le]),w.value?(o(),G(ye,{key:0,onSelectItem:Y})):B("",!0),u.value?(o(),G(Fe,{key:1,onSelectTime:F})):B("",!0),u.value?(o(),l("div",Re,[a("button",{type:"button",class:"bg-[#ffadc4] text-white hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 ml-auto",onClick:L}," Book Now ")])):B("",!0)],64))}});export{Ve as default};
